<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__turret_8h_source" xml:lang="en-US">
<title>Turret.h</title>
<indexterm><primary>src/main/include/subsystems/Turret.h</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__turret_8h_source_1l00001"/>00001 <emphasis role="preprocessor">#pragma&#32;once</emphasis>
<anchor xml:id="__turret_8h_source_1l00002"/>00002 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__constants_8h">Constants.h</link>&quot;</emphasis>
<anchor xml:id="__turret_8h_source_1l00003"/>00003 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__limelight_8h">subsystems/Limelight.h</link>&quot;</emphasis>
<anchor xml:id="__turret_8h_source_1l00004"/>00004 <emphasis role="preprocessor">#include&#32;&lt;frc/DigitalInput.h&gt;</emphasis>
<anchor xml:id="__turret_8h_source_1l00005"/>00005 <emphasis role="preprocessor">#include&#32;&lt;frc/Encoder.h&gt;</emphasis>
<anchor xml:id="__turret_8h_source_1l00006"/>00006 <emphasis role="preprocessor">#include&#32;&lt;frc/controller/PIDController.h&gt;</emphasis>
<anchor xml:id="__turret_8h_source_1l00007"/>00007 <emphasis role="preprocessor">#include&#32;&lt;frc/motorcontrol/VictorSP.h&gt;</emphasis>
<anchor xml:id="__turret_8h_source_1l00008"/>00008 <emphasis role="preprocessor">#include&#32;&lt;frc2/command/SubsystemBase.h&gt;</emphasis>
<anchor xml:id="__turret_8h_source_1l00009"/>00009 <emphasis role="preprocessor">#include&#32;&lt;rev/CANSparkMax.h&gt;</emphasis>
<anchor xml:id="__turret_8h_source_1l00010"/>00010 
<anchor xml:id="__turret_8h_source_1l00011"/>00011 <emphasis role="keyword">using&#32;namespace&#32;</emphasis>frc;
<anchor xml:id="__turret_8h_source_1l00012"/>00012 <emphasis role="keyword">using&#32;namespace&#32;</emphasis>frc2;
<anchor xml:id="__turret_8h_source_1l00013"/>00013 <emphasis role="keyword">using&#32;namespace&#32;</emphasis>rev;
<anchor xml:id="__turret_8h_source_1l00014"/>00014 
<anchor xml:id="__turret_8h_source_1l00015"/><link linkend="_class_turret">00015</link> <emphasis role="keyword">class&#32;</emphasis><link linkend="_class_turret">Turret</link>&#32;:&#32;<emphasis role="keyword">public</emphasis>&#32;SubsystemBase
<anchor xml:id="__turret_8h_source_1l00016"/>00016 {
<anchor xml:id="__turret_8h_source_1l00017"/>00017 <emphasis role="keyword">public</emphasis>:
<anchor xml:id="__turret_8h_source_1l00018"/>00018 &#32;&#32;&#32;&#32;<link linkend="_class_turret_1a716b97b5618cc59c9b095954f92fd47c">Turret</link>();
<anchor xml:id="__turret_8h_source_1l00019"/>00019 
<anchor xml:id="__turret_8h_source_1l00023"/>00023 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1ae6438eb6ae5ec2be9346b5ad774ace2d">Periodic</link>()&#32;<emphasis role="keyword">override</emphasis>;
<anchor xml:id="__turret_8h_source_1l00024"/>00024 
<anchor xml:id="__turret_8h_source_1l00025"/>00025 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;----------&#32;Actions&#32;-----------</emphasis>
<anchor xml:id="__turret_8h_source_1l00026"/>00026 
<anchor xml:id="__turret_8h_source_1l00027"/>00027 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1a67239926e9d9f7861ed4703d56778860">Reset</link>();
<anchor xml:id="__turret_8h_source_1l00028"/>00028 
<anchor xml:id="__turret_8h_source_1l00033"/>00033 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1ae0b01f3162930716cd54bbfbec2972fb">Turn</link>(<emphasis role="keywordtype">double</emphasis>);
<anchor xml:id="__turret_8h_source_1l00034"/>00034 
<anchor xml:id="__turret_8h_source_1l00038"/>00038 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1a3d89174d5a8dca20e62d28c80b250b6e">KeepStill</link>();
<anchor xml:id="__turret_8h_source_1l00039"/>00039 
<anchor xml:id="__turret_8h_source_1l00043"/>00043 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_turret_1a577d4ded6aa2912c0281acd261ce4b4a">Center</link>();
<anchor xml:id="__turret_8h_source_1l00044"/>00044 
<anchor xml:id="__turret_8h_source_1l00045"/>00045 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;---------&#32;Motor&#32;---------</emphasis>
<anchor xml:id="__turret_8h_source_1l00046"/>00046 
<anchor xml:id="__turret_8h_source_1l00051"/>00051 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1ae34f9f1ee2bc4bf488e1543f1d47c18d">SetMotor</link>(<emphasis role="keywordtype">double</emphasis>);
<anchor xml:id="__turret_8h_source_1l00052"/>00052 
<anchor xml:id="__turret_8h_source_1l00056"/>00056 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;<link linkend="_class_turret_1ad8a6d047f8f7b7382a4f3aae01a5c011">GetMotor</link>();
<anchor xml:id="__turret_8h_source_1l00057"/>00057 
<anchor xml:id="__turret_8h_source_1l00062"/>00062 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1a5717e06eca7a0fdbd9c92eb6bb7dfe81">InvertMotor</link>(<emphasis role="keywordtype">bool</emphasis>);
<anchor xml:id="__turret_8h_source_1l00063"/>00063 
<anchor xml:id="__turret_8h_source_1l00067"/>00067 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1af52c29af0886cca0e24c278bca72a85a">PrintMotor</link>();
<anchor xml:id="__turret_8h_source_1l00068"/>00068 
<anchor xml:id="__turret_8h_source_1l00069"/>00069 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;---------&#32;Encoder&#32;---------</emphasis>
<anchor xml:id="__turret_8h_source_1l00070"/>00070 
<anchor xml:id="__turret_8h_source_1l00074"/>00074 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;<link linkend="_class_turret_1ae3d7d4170a7755d24b8624adec4a26db">GetEncoder</link>();
<anchor xml:id="__turret_8h_source_1l00075"/>00075 
<anchor xml:id="__turret_8h_source_1l00079"/>00079 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1a3735033e9fdac249677a315f085269cc">ResetEncoder</link>();
<anchor xml:id="__turret_8h_source_1l00080"/>00080 
<anchor xml:id="__turret_8h_source_1l00085"/>00085 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1af07791415230178b22ba2dff75d866a7">InvertEncoder</link>(<emphasis role="keywordtype">bool</emphasis>);
<anchor xml:id="__turret_8h_source_1l00086"/>00086 
<anchor xml:id="__turret_8h_source_1l00090"/>00090 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1ae154268736c97c75ad42dd7e73fc35f0">PrintEncoder</link>();
<anchor xml:id="__turret_8h_source_1l00091"/>00091 
<anchor xml:id="__turret_8h_source_1l00092"/>00092 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;----------&#32;Angle&#32;---------</emphasis>
<anchor xml:id="__turret_8h_source_1l00093"/>00093 
<anchor xml:id="__turret_8h_source_1l00098"/>00098 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_turret_1a69bdd8f0a95d6667a8d554cbea80cf1f">SetAngle</link>(<emphasis role="keywordtype">double</emphasis>);
<anchor xml:id="__turret_8h_source_1l00099"/>00099 
<anchor xml:id="__turret_8h_source_1l00104"/>00104 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;<link linkend="_class_turret_1a9a955b5d8d8569b9059dbf98db7be6aa">GetAngle</link>();
<anchor xml:id="__turret_8h_source_1l00105"/>00105 
<anchor xml:id="__turret_8h_source_1l00109"/>00109 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1a64110a61bd1f885f3a41dc92856e541a">ResetAnglePID</link>();
<anchor xml:id="__turret_8h_source_1l00110"/>00110 
<anchor xml:id="__turret_8h_source_1l00114"/>00114 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1a8e9064e74fda14f1dc9a0958503d752a">PrintAngle</link>();
<anchor xml:id="__turret_8h_source_1l00115"/>00115 
<anchor xml:id="__turret_8h_source_1l00119"/>00119 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1aa811c66bcde148e0e44b9010c596eea8">PrintAnglePIDError</link>();
<anchor xml:id="__turret_8h_source_1l00120"/>00120 
<anchor xml:id="__turret_8h_source_1l00121"/>00121 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;---------&#32;Align&#32;---------</emphasis>
<anchor xml:id="__turret_8h_source_1l00122"/>00122 
<anchor xml:id="__turret_8h_source_1l00127"/>00127 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_turret_1ade826b7d94686eb26a22240e6bf5cef5">Align</link>();
<anchor xml:id="__turret_8h_source_1l00128"/>00128 
<anchor xml:id="__turret_8h_source_1l00132"/>00132 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1ab15c596c80b5395d3c91de7eab59aa14">ResetAlignPID</link>();
<anchor xml:id="__turret_8h_source_1l00133"/>00133 
<anchor xml:id="__turret_8h_source_1l00137"/>00137 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1a0ed916a9383e4dd28e6d95ba4629fc2f">PrintAlignPIDError</link>();
<anchor xml:id="__turret_8h_source_1l00138"/>00138 
<anchor xml:id="__turret_8h_source_1l00139"/>00139 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;---------&#32;Limits&#32;----------</emphasis>
<anchor xml:id="__turret_8h_source_1l00140"/>00140 
<anchor xml:id="__turret_8h_source_1l00145"/>00145 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_turret_1a17c79f3bd5017e8927195523b8819356">GetRightLimit</link>();
<anchor xml:id="__turret_8h_source_1l00146"/>00146 
<anchor xml:id="__turret_8h_source_1l00151"/>00151 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_turret_1a0cd77f0b81e7df1ca3a20d1ac38cf856">GetLeftLimit</link>();
<anchor xml:id="__turret_8h_source_1l00152"/>00152 
<anchor xml:id="__turret_8h_source_1l00156"/>00156 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1a696d8b95e79c9093d7fa41a5dfd584a8">PrintLimits</link>();
<anchor xml:id="__turret_8h_source_1l00157"/>00157 
<anchor xml:id="__turret_8h_source_1l00158"/>00158 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;---------&#32;Safety&#32;----------</emphasis>
<anchor xml:id="__turret_8h_source_1l00159"/>00159 
<anchor xml:id="__turret_8h_source_1l00163"/>00163 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1a86ec06bd5b2f24bab0360c8c0661f66f">SetLimitSafetyActive</link>(<emphasis role="keywordtype">bool</emphasis>);
<anchor xml:id="__turret_8h_source_1l00164"/>00164 
<anchor xml:id="__turret_8h_source_1l00168"/>00168 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_turret_1a9237ad362784e3950e9057746fa43797">SetAngleSafetyActive</link>(<emphasis role="keywordtype">bool</emphasis>);
<anchor xml:id="__turret_8h_source_1l00169"/>00169 
<anchor xml:id="__turret_8h_source_1l00170"/>00170 <emphasis role="keyword">private</emphasis>:
<anchor xml:id="__turret_8h_source_1l00171"/>00171 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;----------&#32;Motor&#32;----------</emphasis>
<anchor xml:id="__turret_8h_source_1l00172"/>00172 
<anchor xml:id="__turret_8h_source_1l00173"/>00173 &#32;&#32;&#32;&#32;CANSparkMax&#32;m_motor{<link linkend="__constants_8h_1aae6cfc93fe0eca8840e283555473152d">pTurretMotor</link>,&#32;CANSparkMax::MotorType::kBrushed};
<anchor xml:id="__turret_8h_source_1l00174"/>00174 
<anchor xml:id="__turret_8h_source_1l00175"/>00175 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;TODO&#32;:&#32;define&#32;motor&#32;type</emphasis>
<anchor xml:id="__turret_8h_source_1l00176"/>00176 
<anchor xml:id="__turret_8h_source_1l00177"/>00177 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;VictorSP&#32;m_motor{pTurretMotor};</emphasis>
<anchor xml:id="__turret_8h_source_1l00178"/>00178 
<anchor xml:id="__turret_8h_source_1l00179"/>00179 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;VictorSPX&#32;m_motor{pTurretMotor};</emphasis>
<anchor xml:id="__turret_8h_source_1l00180"/>00180 
<anchor xml:id="__turret_8h_source_1l00181"/>00181 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;----------&#32;Sensors&#32;---------</emphasis>
<anchor xml:id="__turret_8h_source_1l00182"/>00182 
<anchor xml:id="__turret_8h_source_1l00183"/>00183 &#32;&#32;&#32;&#32;Encoder&#32;m_encoder{<link linkend="__constants_8h_1a04fce98fa6221ad0581a88c2fc717c68">pTurretEncoderA</link>,&#32;<link linkend="__constants_8h_1a3b27ac395a1d35e472bb783f8f288aa8">pTurretEncoderB</link>};
<anchor xml:id="__turret_8h_source_1l00184"/>00184 
<anchor xml:id="__turret_8h_source_1l00185"/>00185 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;TODO&#32;:&#32;define&#32;encoder&#32;type</emphasis>
<anchor xml:id="__turret_8h_source_1l00186"/>00186 
<anchor xml:id="__turret_8h_source_1l00187"/>00187 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;SparkMaxRelativeEncoder&#32;m_encoder{m_motor.GetEncoder()};</emphasis>
<anchor xml:id="__turret_8h_source_1l00188"/>00188 
<anchor xml:id="__turret_8h_source_1l00189"/>00189 &#32;&#32;&#32;&#32;<link linkend="_class_limelight">Limelight</link>&#32;m_limelight;
<anchor xml:id="__turret_8h_source_1l00190"/>00190 
<anchor xml:id="__turret_8h_source_1l00191"/>00191 &#32;&#32;&#32;&#32;DigitalInput&#32;m_limitSwitchRight{<link linkend="__constants_8h_1a95b25ca303bd9f2929a01c37f88abf3e">pTurretLimitSwitchRight</link>};
<anchor xml:id="__turret_8h_source_1l00192"/>00192 
<anchor xml:id="__turret_8h_source_1l00193"/>00193 &#32;&#32;&#32;&#32;DigitalInput&#32;m_limitSwitchLeft{<link linkend="__constants_8h_1ade0b518f54769658c7cfcb6f06ac5573">pTurretLimitLeft</link>};
<anchor xml:id="__turret_8h_source_1l00194"/>00194 
<anchor xml:id="__turret_8h_source_1l00195"/>00195 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;----------&#32;PID&#32;---------</emphasis>
<anchor xml:id="__turret_8h_source_1l00196"/>00196 
<anchor xml:id="__turret_8h_source_1l00197"/>00197 &#32;&#32;&#32;&#32;PIDController&#32;m_alignPID{<link linkend="__constants_8h_1a0004e7337cfb549eba8bf5d92cfe54df">k_turretAlignP</link>,&#32;<link linkend="__constants_8h_1a0a7293fa016b7bb00e1830717e2c5206">k_turretAlignI</link>,&#32;<link linkend="__constants_8h_1af496207a9d5f67d5f8b642e8fdf6ee8f">k_turretAlignD</link>};
<anchor xml:id="__turret_8h_source_1l00198"/>00198 
<anchor xml:id="__turret_8h_source_1l00199"/>00199 &#32;&#32;&#32;&#32;PIDController&#32;m_anglePID{<link linkend="__constants_8h_1a9f1da33bcd547897b9df6a15eb030680">k_turretAngleP</link>,&#32;<link linkend="__constants_8h_1a3f70914a7d0f2f869189d3c5ef01a793">k_turretAngleI</link>,&#32;<link linkend="__constants_8h_1a59c38900b6eae56c9a485aa729950139">k_turretAngleD</link>};
<anchor xml:id="__turret_8h_source_1l00200"/>00200 
<anchor xml:id="__turret_8h_source_1l00201"/>00201 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;----------&#32;Attributes&#32;----------</emphasis>
<anchor xml:id="__turret_8h_source_1l00202"/>00202 
<anchor xml:id="__turret_8h_source_1l00203"/>00203 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;m_angle;
<anchor xml:id="__turret_8h_source_1l00204"/>00204 
<anchor xml:id="__turret_8h_source_1l00205"/>00205 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;m_keepingStill&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__turret_8h_source_1l00206"/>00206 
<anchor xml:id="__turret_8h_source_1l00207"/>00207 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;m_limitSafety&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__turret_8h_source_1l00208"/>00208 
<anchor xml:id="__turret_8h_source_1l00209"/>00209 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;m_angleSafety&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__turret_8h_source_1l00210"/>00210 };
</programlisting></section>
